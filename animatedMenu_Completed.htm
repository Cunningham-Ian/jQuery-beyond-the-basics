<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Animated Menu</title>
    <link rel="stylesheet" href="css/animatedMenu.css">
    <script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
    <script>
        $(function() {
             
            var menuStatus = false;
             
            function openMenu() {
                //  Open Menu A (Top Menu)
                $('.menuA')
                    .animate({
                        top:'0px',
                        opacity:1
                    },400,"swing")
                    .animate({
                        width:'140px',
                        left:'120px',
                        'border-radius':'5px'
                    },200)
                    .animate({
                        height:'150px'
                    },400, function() {
                    //  Set Menu Open Status to True
                        menuStatus = true;
                    //  Fade In the Menu
                        $('.submenu').fadeIn(100);
                    });
                 
                // Open Menu B (Bottom Menu) 
                $('.menuB')
                    .animate({
                        top:'370px',
                        opacity:1
                    },400)
                    .animate({
                        width:'140px',
                        left:'120px',
                        'border-radius':'5px'
                    },200)
                    .animate({
                        height:'150px',
                        top:'230px'
                    },400);
                     
                // Rotate the Menu Button Clockwise  
                $('#toggleMenu').animate({
                        textIndent:1
                    },{
                        duration:1000,
                        easing:'linear',
                        step:function(now) {
                            $(this).css('transform', 'rotateZ(' + (now * 360) + 'deg)');
                        }
                });
            }
             
            function closeMenu() {
                //  FadeOut the Menu Text
                $('.submenu').fadeOut(100);
                 
                //  Close Menu A (Top Menu)
                $('.menuA')
                    .animate({
                        height:'10px'
                    },400)
                    .animate({
                        width:'10px',
                        left:'185px',
                        'border-radius':'50px'
                    },200)
                    .animate({
                        top:'185px',
                        opacity:1
                    },400, function() {
                    //  Set the Menu Open Status to False
                        menuStatus = false;
                    });
                 
                 
                // Close Menu B (Bottom Menu) 
                $('.menuB')
                    .animate({
                        height:'10px',
                        top:'370px'
                    },400)
                    .animate({
                        width:'10px',
                        left:'185px',
                        'border-radius':'50px'
                    },200)
                    .animate({
                        top:'185px',
                        opacity:0
                    },400);
                     
                $('#toggleMenu').animate({
                    textIndent:0
                    },{
                    duration:1000,
                    easing:'linear',
                    step:function(now) {
                        $(this).css('transform', 'rotateZ(' + (now * 360) + 'deg)');
                    }
                });
            }
             
            $('#toggleMenu').on('click', function() {
                if(menuStatus === false){
                    openMenu();
                } else {
                    closeMenu();
                }
            });
        });
    </script>
</head>
<body>
    <div class="container">
        <div class="menuA">
            <ul class="submenu">
                <li><a href="#">Cellular Phones</a></li>
                <li><a href="#">Phablets</a></li>
                <li><a href="#">Laptops</a></li>
                <li><a href="#">Desktops</a></li>
                <li><a href="#">Workstations</a></li>
            </ul>
        </div>
        <div class="menuB">
            <ul class="submenu">
                <li><a href="#">Fitness Trackers</a></li>
                <li><a href="#">Smartwatches</a></li>
                <li><a href="#">VOIP Phones</a></li>
                <li><a href="#">Printers</a></li>
                <li><a href="#">WiFi Routers</a></li>
            </ul>
        </div>
        <a href="#" id="toggleMenu">M</a>
    </div>
</body>
</html>